
## Цель работы

Освоить методы пассивного и активного сбора информации о целевых системах с использованием современных инструментов.

---

## Задачи работы

- Провести сканирование портов и сервисов на хосте в DMZ (IP: 192.168.0.116) с помощью утилиты `nmap`.

- Выполнить активный и пассивный сбор информации о веб-сайте, используя инструменты `nikto`, `dirb` и `whatweb`.

---

## Теоретическая часть

### 1. Введение в сбор информации

Сбор информации — это первый этап при проведении тестирования на проникновение (пентеста), направленный на получение максимального количества данных о целевой системе без непосредственного взаимодействия с ней или с минимальным воздействием. Этот этап помогает понять структуру сети, обнаружить открытые порты, запущенные сервисы, возможные уязвимости и другую важную информацию.

Существует два основных подхода к сбору информации:

 Пассивный сбор информации

- Не предполагает прямого взаимодействия с целевой системой.

- Используются сторонние источники: DNS, WHOIS, архивы сайтов, поисковики, базы данных уязвимостей и т.д.

- Цель: собрать данные без шума и следов активности.

 Активный сбор информации

- Подразумевает прямое взаимодействие с целевой системой.

- Могут быть задействованы такие методы, как сканирование портов, перечисление директорий, проверка безопасности веб-приложений и т.д.

- Может быть обнаружен системами обнаружения вторжений (IDS).

---

### 2. Инструменты для сбора информации

 Nmap (Network Mapper)

- Один из самых популярных инструментов для сетевого разведки.

- Позволяет:

- Обнаруживать живые хосты в сети.

- Сканировать открытые порты.

- Определять версии сервисов.

- Определять тип ОС удалённой системы.

- Поддерживает множество режимов сканирования: TCP SYN scan, ping scan, version detection и др.

 Nikto

- Открытый веб-сканер, предназначенный для обнаружения уязвимых и потенциально опасных файлов, CGI, интерфейсов управления и других элементов на веб-сервере.

- Проверяет наличие известных уязвимостей, используя базу сигнатур.

 Dirb / Dirbuster

- Инструменты для брутфорса веб-каталогов и файлов.

- Помогают находить скрытые страницы, директории и ресурсы, недоступные через поисковики или ссылки.

- Работают по принципу подстановки слов из словаря в URL и анализа HTTP-ответов.

 WhatWeb

- Анализирует веб-сайт и определяет технологии, использованные при его создании.

- Обнаруживает CMS, фреймворки, движки, плагины, серверное ПО и т.д.

- Полезен для получения технической информации о сайте перед более глубоким анализом.

---

## Ход выполнения лабораторной работы

### Шаг 1: Сканирование портов и сервисов с помощью Nmap

 Цель: Получить список открытых портов и запущенных сервисов на IP 192.168.0.116.

1. Запустите терминал и выполните команду:

 ```bash

 nmap -sV -O 192.168.0.116

 ```

 - `-sV` — определение версий сервисов.

 - `-O` — определение операционной системы.

2. Зафиксируйте результаты:

 - Какие порты открыты?

 - Какие сервисы запущены?

 - Какая ОС используется?

3. Для более детального анализа можно использовать дополнительные флаги:

 ```bash

 nmap -p- -A 192.168.0.116

 ```

 - `-p-` — сканирование всех портов.

 - `-A` — активация расширенного режима (включает определение сервисов, ОС, скрипты и др.).

---

### Шаг 2: Активный сбор информации о веб-сайте

 Цель: Исследовать веб-сайт, связанный с целевой машиной.

# 2.1. Сканирование сайта с помощью Nikto

```bash

nikto -h http://192.168.0.116

```

- `-h` — указывает целевой хост.

- Сохраните вывод в файл для последующего анализа:

```bash

nikto -h http://192.168.0.116 > nikto_results.txt

```

# 2.2. Перечисление директорий с помощью Dirb

```bash

dirb http://192.168.0.116 /usr/share/dirb/wordlists/common.txt

```

- `/usr/share/dirb/wordlists/common.txt` — стандартный словарь.

- Возможные варианты:

- `small.txt`, `big.txt` — более объёмные словари.

- Можно использовать пользовательские словари.

# 2.3. Определение технологий сайта с помощью WhatWeb

```bash

whatweb http://192.168.0.116

```

- Выводит информацию о CMS, движке, версии PHP, JavaScript-библиотеках и др.

---

### Шаг 3: Пассивный сбор информации (по желанию)

 Цель: Получить информацию о сайте без прямого взаимодействия с ним.

1. Используйте поисковые системы (Google, Bing):

 - Поиск по домену: `site:example.com`

 - Поиск файлов: `filetype:pdf site:example.com`

 - Поиск админ-панелей: `inurl:admin site:example.com`

2. Используйте сервисы:

 - [Wayback Machine](https://archive.org/web/) — поиск старых версий сайта.

 - [DNS Checker](https://dnschecker.org/) — проверка записей DNS.

 - [Shodan.io](https://www.shodan.io/) — поиск устройств в интернете и информация о них.

---

## Форма отчета

Отчет должен содержать:

1. Цель и задачи работы.

2. Краткую теоретическую часть.

3. Описание выполненных действий и использованных команд.

4. Скриншоты/выводы результатов сканирования.

5. Выводы по работе:

 - Что было обнаружено?

 - Какие сервисы работают?

 - Какие уязвимости могут присутствовать?

 - Какие дальнейшие шаги можно предпринять?

---

## Вопросы для самоконтроля

1. Чем отличается пассивный сбор информации от активного?

2. Какие цели преследует этап разведки в тестировании на проникновение?

3. Какие функции выполняет утилита Nmap?

4. Что такое fingerprinting сервисов и зачем он нужен?

5. Какие типы уязвимостей может выявить Nikto?

6. Почему важно знать используемые технологии сайта (CMS, версии и т.д.)?